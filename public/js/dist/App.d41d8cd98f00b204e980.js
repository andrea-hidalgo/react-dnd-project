!function(e){function t(t){for(var a,l,c=t[0],i=t[1],s=t[2],m=0,p=[];m<c.length;m++)l=c[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={0:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;o.push([30,2]),n()}({30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),l=n.n(o),c=n(8);var i=n(1);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,a,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function d(e){const t=function(){var t,n=(t=function*(t,n){console.log("you clicked "+t.name+" on index "+n);const a=JSON.stringify({index:t.index,name:t.name,url:t.url});console.log(a);try{const t=yield fetch("/api/monsters",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:a}),n=yield t.json(),r=[...e.collection,n];e.setCollection(r),e.updateNoteValues(u(u({},e.noteValues),{},{[n._id]:u(u({},n),{},{notes:""})}))}catch(e){console.error(e)}},function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function l(e){p(o,a,r,l,c,"next",e)}function c(e){p(o,a,r,l,c,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return r.a.createElement("div",{className:"monsterList"},r.a.createElement("h4",null,"Challenge Rating ",e.challengeRating),e.monsterData.map((n,a)=>r.a.createElement("div",{key:n.index,className:"monsterNameSection"},r.a.createElement("h3",null,n.name),r.a.createElement("div",{className:"icon-group"},r.a.createElement("ion-icon",{name:"information-circle-outline",onClick:()=>e.moreInfo(n.url)}),r.a.createElement("ion-icon",{name:"add-circle-outline",onClick:()=>t(n,a)})))))}function f(e){const t=e.moreMonsterInfo;return r.a.createElement("div",{className:"monsterInfo"},r.a.createElement("ion-icon",{name:"close-circle-outline",onClick:e.toggleHide}),r.a.createElement("h2",null,t.name),r.a.createElement("h5",null,"Challenge Rating: ",t.challenge_rating),r.a.createElement("p",null,r.a.createElement("span",null,t.size," ",t.type,", ",t.alignment)),r.a.createElement("h5",null,"Armor Class: ",t.armor_class),r.a.createElement("h5",null,"Hit Points: ",t.hit_points," (",t.hit_dice,")"),r.a.createElement("h5",null,"Speed: ",t.speed.walk),r.a.createElement("div",{className:"stats-list"},r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"STR"),r.a.createElement("p",null,t.strength)),r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"DEX"),r.a.createElement("p",null,t.dexterity)),r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"CON"),r.a.createElement("p",null,t.constitution)),r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"INT"),r.a.createElement("p",null,t.intelligence)),r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"WIS"),r.a.createElement("p",null,t.wisdom)),r.a.createElement("div",{className:"stat"},r.a.createElement("h5",null,"CHA"),r.a.createElement("p",null,t.charisma))),Object.keys(t.languages).length?r.a.createElement("p",null,r.a.createElement("b",null,"Languages "),t.languages):"")}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,a,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){b(o,a,r,l,c,"next",e)}function c(e){b(o,a,r,l,c,"throw",e)}l(void 0)}))}}function E(e){const t=function(){var t=v((function*(t,n){console.log("you clicked "+t.name+" on index "+n);const a=JSON.stringify({index:t.index,name:t.name,url:t.url});console.log(a);try{yield fetch("/api/monsters/".concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json"}});e.collection.splice(n,1),e.setCollection([...e.collection])}catch(e){console.error(e)}}));return function(e,n){return t.apply(this,arguments)}}(),n=function(){var t=v((function*(t,n,a){t.preventDefault();const r=JSON.stringify({notes:e.noteValues[n._id].notes});try{const t=yield fetch("/api/monsters/".concat(n._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:r}),o=yield t.json(),l=[...e.collection];l.splice(a,1,o),e.setCollection([...l])}catch(e){console.error(e)}finally{e.updateNoteValues(y(y({},e.noteValues),e.noteValues[n._id].notes=""))}}));return function(e,n,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"myCollection"},r.a.createElement("h1",null,"My Collection"),Object.keys(e.noteValues).length?e.collection.map((a,o)=>r.a.createElement("div",{key:a._id,className:"monsterCollectionItem"},r.a.createElement("div",{className:"monsterNameSection"},r.a.createElement("ion-icon",{name:"close-outline",onClick:()=>{t(a,o)}}),r.a.createElement("h3",null,a.name),r.a.createElement("div",{className:"icon-group"},r.a.createElement("ion-icon",{name:"information-circle-outline",onClick:()=>e.moreInfo(a.url)}),r.a.createElement("ion-icon",{name:"create-outline",onClick:()=>(e=>{const t=document.getElementById(e);t.classList.contains("hide")?t.classList.remove("hide"):t.classList.add("hide")})(a._id)}))),a.notes?r.a.createElement("p",null,a.notes):"",e.noteValues[a._id]?r.a.createElement("div",{className:"monsterNotesSection hide",id:"".concat(a._id)},r.a.createElement("form",{onSubmit:e=>n(e,a,o)},r.a.createElement("input",{id:"notes",type:"text",value:e.noteValues[a._id].notes,onChange:t=>((t,n)=>{e.updateNoteValues(y(y({},e.noteValues),e.noteValues[n._id].notes=t.target.value))})(t,a)}),r.a.createElement("input",{type:"submit",value:"Add Note"}))):"")):"")}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,a,r,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){P(o,a,r,l,c,"next",e)}function c(e){P(o,a,r,l,c,"throw",e)}l(void 0)}))}}var C=[{Component:function(e){return r.a.createElement("div",{className:"ContactPage"},"This is the ",e.page," page")},key:"Contact",path:"/contact"},{Component:function(e){return r.a.createElement("div",{className:"HomePage"},"This is the ",e.page," page")},key:"Home",path:"/home"},{Component:function(e){return r.a.createElement("div",{className:"AboutPage"},"This is the ",e.page," page")},key:"About",path:"/about"},{Component:function(e){const[t,n]=Object(a.useState)({baseURL:"https://www.dnd5eapi.co/api/monsters?challenge_rating=",challengeRating:"",searchURL:""}),[o,l]=Object(a.useState)([]),[c,i]=Object(a.useState)([]),[s,u]=Object(a.useState)({baseURL:"https://www.dnd5eapi.co",searchURL:""}),[m,p]=Object(a.useState)([]),[h,y]=Object(a.useState)({infoHidden:!0}),[g,b]=Object(a.useState)({}),[v,O]=Object(a.useState)("");Object(a.useEffect)(()=>{N((function*(){if(s.searchURL)try{const e=yield fetch(s.searchURL),t=yield e.json();yield p(t),y({infoHidden:!1})}catch(e){console.error(e)}finally{u({baseURL:"https://www.dnd5eapi.co",searchURL:""})}}))()},[s]),Object(a.useEffect)(()=>{N((function*(){try{const e=yield fetch("/api/monsters"),t=yield e.json();yield i(t),b(t.reduce((e,t,n)=>(t.notes=t.notes?t.notes:"",e[t._id]=t,e),{})),console.log(t)}catch(e){console.error(e)}}))()},[]),Object(a.useEffect)(()=>{N((function*(){if(t.searchURL)try{const e=yield fetch(t.searchURL),a=yield e.json();yield l(a.results),console.log(a.results)}catch(e){console.error(e)}finally{n({baseURL:"https://www.dnd5eapi.co/api/monsters?challenge_rating=",challengeRating:"",searchURL:""})}}))()},[t]);const w=function(){var e=N((function*(e){console.log("https://www.dnd5eapi.co".concat(e)),u(j(j({},s),{},{searchURL:s.baseURL+e}))}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"AppPage"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Monster Collector"),r.a.createElement("p",null,"A handy DM Tool for D&D 5th Edition")),r.a.createElement("div",{className:"lists"},c.length>0&&Object.keys(g).length?r.a.createElement(E,{collection:c,setCollection:i,moreInfo:w,noteValues:g,updateNoteValues:b}):"",r.a.createElement("div",{className:"searchMonsters"},r.a.createElement("h1",null,"Monster Search"),r.a.createElement("p",null,"Search by Challenge Rating (decimals or whole numbers!)"),r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),n(j(j({},t),{},{searchURL:t.baseURL+t.challengeRating})),O(t.challengeRating),console.log(t)}},r.a.createElement("input",{id:"challengeRating",type:"text",value:t.challengeRating,onChange:e=>{n(j(j({},t),{[e.target.id]:e.target.value}))}}),r.a.createElement("input",{type:"submit",value:"Find Monsters"})),o.length&&Object.keys(g).length?r.a.createElement(d,{monsterData:o,setCollection:i,collection:c,moreInfo:w,updateNoteValues:b,noteValues:g,challengeRating:v}):""),!1===h.infoHidden?r.a.createElement(f,{moreMonsterInfo:m,toggleHide:()=>{y({infoHidden:!h.infoHidden})}}):""))},key:"App",path:"/"}];var S=()=>r.a.createElement(c.a,null,r.a.createElement(i.c,null,C.map(e=>{let{Component:t,key:n,path:a}=e;return r.a.createElement(i.a,{key:n,path:a,component:()=>r.a.createElement(t,{page:n})})})));n(25);const R=document.getElementById("app");l.a.render(r.a.createElement(S,null),R)}});